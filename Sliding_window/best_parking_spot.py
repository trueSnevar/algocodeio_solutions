"""
–õ—É—á—à–µ–µ –º–µ—Å—Ç–æ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–µ

—Å—Ä–µ–¥–Ω–µ
—Ä–µ—à–µ–Ω–æ

–î–∞–Ω –º–∞—Å—Å–∏–≤ spots, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–∞—Ä–∫–æ–≤–∫—É, –≥–¥–µ spots[i] = 1 —É–∂–µ –∑–∞–Ω—è—Ç–æ–µ –º–µ—Å—Ç–æ, –∞ spots[i] = 0 - —Å–≤–æ–±–æ–¥–Ω–æ–µ.

–î–∏–º–∞ –Ω–µ —Ö–æ—á–µ—Ç —Ä–∏—Å–∫–æ–≤–∞—Ç—å, –ø–æ—ç—Ç–æ–º—É —Ö–æ—á–µ—Ç –ø—Ä–∏–ø–∞—Ä–∫–æ–≤–∞—Ç—å –º–∞—à–∏–Ω—É —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ –æ—Ç —Å–æ—Å–µ–¥–Ω–∏—Ö.

–ß—Ç–æ–±—ã –ø–æ–º–æ—á—å –î–∏–º–µ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–µ–¥–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ,
–∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–∂–¥—É –µ–≥–æ –º–∞—à–∏–Ω–æ–π –∏ —Å–æ—Å–µ–¥–Ω–∏–º–∏.

–í–ê–ñ–ù–û: –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ.

–ü—Ä–∏–º–µ—Ä 1:

–í–≤–æ–¥: spots = [0,1,0,0,0,1,0,1,0]
–í—ã–≤–æ–¥: 2
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –º–µ—Å—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ [0,2,3,4,6,8] —Å–≤–æ–±–æ–¥–Ω—ã, –∞ –∑–Ω–∞—á–∏—Ç –∏–º–µ–Ω–Ω–æ —Ç—É–¥–∞ –º—ã –º–æ–∂–µ–º –ø–∞—Ä–∫–æ–≤–∞—Ç—å –º–∞—à–∏–Ω—É.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞–π–¥–µ–º –æ—Ç–≤–µ—Ç: {0:1,2:1,3:2,4:1,6:1,8:1}.
–ù–∞–∏–±–æ–ª—å—à–∏–π –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –∫–æ–≥–¥–∞ –º—ã –ø–∞—Ä–∫—É–µ–º—Å—è –Ω–∞ 3 –º–µ—Å—Ç–æ, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 2 –∫–∞–∫ –æ—Ç–≤–µ—Ç.

–ü—Ä–∏–º–µ—Ä 2:

–í–≤–æ–¥: spots = [0,0,0,1,0,1]
–í—ã–≤–æ–¥: 3
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –µ—Å–ª–∏ –º—ã –ø—Ä–∏–ø–∞—Ä–∫—É–µ–º –º–∞—à–∏–Ω—É –Ω–∞ –º–µ—Å—Ç–æ —Å –Ω–æ–º–µ—Ä–æ–º 0, —Ç–æ —Å–ª–µ–≤–∞ –Ω–∏–∫–∞–∫–∏—Ö –º–∞—à–∏–Ω –Ω–µ –±—É–¥–µ—Ç –∏ –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç 3.

–ü—Ä–∏–º–µ—Ä 3:

–í–≤–æ–¥: spots = [1,0,0,1]
–í—ã–≤–æ–¥: 1

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

0 <= len(spots)
–ó–Ω–∞—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ spots: 0 –∏–ª–∏ 1

"""

from typing import *


def best_parking_spot(spots: List[int]) -> int:
    l = 0
    r = 0
    result = 0
    while l < len(spots):
        while r + 1 < len(spots) and spots[r] == spots[r + 1]:
            r += 1

        # –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ –ø–∞–ª–∞–≤–∞—é—â–µ–º –æ–∫–Ω–µ –±—ã–ª–∏ 0-–ª–∏
        if spots[r] == 0:
            # –µ—Å–ª–∏ 0 –ø—Ä–∏–∂–∞—Ç –∫ —Å—Ç–µ–Ω–∫–µ —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–ø—Ä–∞–≤–∞,
            # —Ç–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç –±—É–¥–µ—Ç r - l + 1, —Ç.–∫. –ø–æ—Å—Ç–∞–≤–∏–º –≤ —Å–∞–º—ã–π –∫—Ä–∞–π
            if l == 0 or r == len(spots) - 1:
                result = max(result, r - l + 1)
            # –æ–∫–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–≥–∞–µ—Ç—Å—è –º–µ–∂–¥—É 1-–∞–º–∏:
            # –ø–æ—ç—Ç–æ–º—É –Ω–∞—Ö–æ–¥–∏–º —á–∏—Å–ª–æ –º–µ—Å—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ (r - l + 2) // 2
            else:
                result = max(result, (r - l + 2) // 2)

        l = r + 1
        r = r + 1
    return result

if __name__ == "__main__":
    ex1 = [0,1,0,0,0,1,0,1,0]
    ex2 = [0,0,0,1,0,1]
    ex3 = [1,0,0,1]

    ans1 = best_parking_spot(ex1)
    ans2 = best_parking_spot(ex2)
    ans3 = best_parking_spot(ex3)
    print(ans1)
    print(ans2)
    print(ans3)

"""
–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–í—Ä–µ–º—è: O(n), –≥–¥–µ n - –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ spots
–ü–∞–º—è—Ç—å: O(1)
"""

"""
–ò–¥–µ—è —Ä–µ—à–µ–Ω–∏—è
–ù–∞–π–¥—ë–º –≤—Å–µ –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ —É—á–∞—Å—Ç–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –º–∞—Å—Å–∏–≤–µ.

–ö–æ–≥–¥–∞ –º—ã –≤–∏–¥–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–∏—Ü (1), –Ω–∞—Å –æ–Ω–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç ‚Äî —Ç–∞–º –≤—Å–µ –º–µ—Å—Ç–∞ –∑–∞–Ω—è—Ç—ã.

–ö–æ–≥–¥–∞ –º—ã –≤–∏–¥–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω—É–ª–µ–π (0), –∏–º–µ–Ω–Ω–æ –≤ –Ω–µ–π –ª–µ–∂–∞—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫—É.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–∫–æ–≥–æ –ø—Ä–æ–±–µ–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ –Ω—É–ª–µ–π) –¥–ª–∏–Ω—ã k = r - l + 1 –Ω–∞–¥–æ –ø–æ–Ω—è—Ç—å, 
–∫–∞–∫–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π –º–∞—à–∏–Ω—ã –º—ã —Å–º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å, 
–µ—Å–ª–∏ –ø—Ä–∏–ø–∞—Ä–∫–æ–≤–∞—Ç—å—Å—è –≤ —Å–∞–º–æ–º ¬´—Ö—É–¥—à–µ–º¬ª –º–µ—Å—Ç–µ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞:

–ï—Å–ª–∏ –æ–∫–Ω–æ –∫–∞—Å–∞–µ—Ç—Å—è –∫—Ä–∞—è (—Ç–æ –µ—Å—Ç—å l == 0 –∏–ª–∏ r == n-1), —Ç–æ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–µ—Ç –º–∞—à–∏–Ω —Å–æ–≤—Å–µ–º, 
–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –≤—Å—Ç–∞—Ç—å –≤ —Å–∞–º—ã–π –∫—Ä–∞–π:

—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ = ùëò
(–≤ –∫–æ–¥–µ r - l + 1).

–ï—Å–ª–∏ –æ–∫–Ω–æ –æ–∫—Ä—É–∂–µ–Ω–æ —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω –∑–∞–Ω—è—Ç—ã–º–∏ –º–µ—Å—Ç–∞–º–∏ (—Ç–æ –µ—Å—Ç—å –µ–¥–∏–Ω–∏—Ü—ã —Å—Ç–æ—è—Ç –∫–∞–∫ –¥–æ, —Ç–∞–∫ –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞), 
—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –≤—Å—Ç–∞—Ç—å –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ, —á—Ç–æ–±—ã –æ—Ç—Å—Ç–æ—è—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ—Ä–æ–≤–Ω—É –æ—Ç –æ–±–æ–∏—Ö —Å–æ—Å–µ–¥–µ–π. 

–ï—Å–ª–∏ –¥–ª–∏–Ω–∞ –æ–∫–Ω–∞ k, —Ç–æ –Ω–∞–∏–ª—É—á—à–µ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—Å—è:

k / 2, –æ–∫—Ä—É–≥–ª–µ–Ω–Ω–æ–µ –≤–≤–µ—Ä—Ö.
–í —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–µ —ç—Ç–æ –æ–±—ã—á–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –∫–∞–∫ (k + 1) // 2. 

–í –∫–æ–¥–µ, —Ç–∞–∫ –∫–∞–∫ k = r - l + 1, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤:
(r - l + 2) // 2
—á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ (k + 1) // 2.

–ü—Ä–æ—Ö–æ–¥—è –ø–æ –≤—Å–µ–º –Ω—É–ª–µ–≤—ã–º –∑–æ–Ω–∞–º, –±–µ—Ä—ë–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏–∑ —ç—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π ‚Äî —ç—Ç–æ –∏ –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç, 
—Ç–∞–∫ –∫–∞–∫ –î–∏–º–∞ —Ö–æ—á–µ—Ç –≤—Å—Ç–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ –æ—Ç –±–ª–∏–∂–∞–π—à–µ–π –º–∞—à–∏–Ω—ã.


"""